name: Generate Metrics

on:
  schedule:
    - cron: "0 0 * * *"
  workflow_dispatch:

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          user: Olikere
          token: ${{ secrets.GH_TOKEN }}

          # ðŸš¨ NOVO: Define um layout minimalista. Remove 'header', 'repositories' etc.
          base: activity, metadata 
          
          # Plugins Ativos
          plugin_languages: yes
          plugin_languages_details: bytes-size, percentage # Mostra a barra e porcentagem

          plugin_isocalendar: yes # Adiciona o calendÃ¡rio de contribuiÃ§Ãµes (compacto)
          plugin_isocalendar_duration: full-year

          plugin_habits: yes # ðŸš¨ NOVO: Adiciona a atividade por hora e dia da semana
          plugin_habits_from: 200 # Considera commits dos Ãºltimos 200 dias
          plugin_habits_days: 14 # Analisa a atividade dos Ãºltimos 14 dias
          plugin_habits_charts: yes
          plugin_habits_trim: yes

          # ConfiguraÃ§Ãµes de AparÃªncia (Opcional, mas recomendado)
          config_timezone: America/Sao_Paulo
          output_dir: .
